from sklearn.svm import SVR
from sklearn.linear_model import LinearRegression, Ridge, Lasso, SGDRegressor
from numpy import*
import matplotlib.pyplot as plt
from sklearn.metrics import r2_score
import statsmodels.api as sm
x = array([0.258790016, -0.562828779, 2.040450096, 0.536149979, -0.273379803, 0.140659809, -0.362749815, 0.940116167, -1.13737011, 2.511609554, 0.648459911, 1.442019939, 1.242062092, 2.743859768, 1.203340054, 0.599410057, 2.03750968, 2.189549923, -0.153599739, 0.28662014, -2.911369801, 0.582506895, 0.001574993, 2.80185008, 1.915106297, 0.824699879, 0.965509653, 1.861440182, -3.569489956, 0.045530319, -0.43143034, 0.969830036, 1.311029911, -4.714150429, 2.520063519, 2.099699855, -0.67315197, 1.984168768, 0.246829987, 0.293263435, 0.656771183, -1.158186436, 1.434120178, 2.248100281, 1.523965836, 1.528709888, 0.708849907, 1.087829828, 1.266985178, -0.047230005, 0.367929935, 3.419819832, -1.172410011, 0.338779926, 1.282601357, 1.969029307, -0.312160015, -2.256960154, -0.130310059, -0.21295023, -0.028310061, 0.35255003, 3.080460072, -1.30776, -1.485800266, 0.805532932, 2.585520267, 0.000442266, -0.013020039, 1.129889965, -0.085253239, -0.661720276, 0.048409939, -1.016439915, 0.850209951, -1.534351349, -1.582495213, 0.899720192, 0.320583344, 0.607164383, 1.181360006, 2.343709946, 1.161499977, -1.495592833, -0.590740204, -0.207507133, 0.080735683, 3.393496037, 0.517369986, -0.076980114, 1.857439995, 1.214299917, 2.324719906, -0.645290375, -0.373440504, 2.594691277, 0.695320129, 0.716680527, -0.676769733, -0.404969692, -0.71724987, 0.761677504, 0.000479937, 0.675540447, -4.615100384, 2.386710167, -0.60199976, 0.422535181, 3.690630198, 0.171619892, -0.257740021, 0.100880146, 1.266279936, 0.653150082, 1.144410133, 0.666920185, 2.781790257, 2.891220093, -0.333880186, 0.103044987, 1.563940048, 0.680729866, 1.029200077, 0.510810733, 0.142250061, 0.465650082, -0.650209427, 1.556699991, -1.518379927, -1.670211315, -1.20871973, 1.883759975, 0.740951538]).reshape(-1,1)
y = array([-0.5, 9.7, 0.7, -11.4, -0.5, 0.7, -12.4, -27.7, -19.2, -0.4, -33, -0.9, -16.6, -26.4, -12.8, -5.6, -50.9, -10, -6, 0, -2, 3.8, -5.7, -14.7, -62.6, -12, -14.2, -12.7, -15.6, -0.6, -0.1, 0, -0.3, -3.4, -5.6, -18.6, -2.1, -17.6, -2.2, -49.3, -3.8, -0.4, 0, 0.1, -33.5, -11.5, 0, -33.2, 0.3, -2.2, -74.1, -11.6, 0.3, 0, -28, -47.8, -8.2, -0.6, 0.3, 0.6, -3.4, 0.2, 0.4, -7.9, 9.7, -0.3, -36.9, -16.6, -2, -21.3, 1.7, -2.5, 0, 32, -2.7, -3.6, -6.6, -42, -0.2, -11.6, -0.2, -6, -33.5, -27.7, -4.8, 9.8, -4.2, -20.3, -32.1, -0.5, -21.9, -33.5, 0, -62.4, -5.1, 0.1, -16.5, -11.5, -2.1, -0.4, -6, -3, -23.2, -1, -7, -43.2, -3.7, -0.7, -35.2, 0, 0, -13, 0.4, -15.6, 0.2, -0.7, -1.4, -55.9, -11.3, -22.7, -32.6, -12.2, -2.6, 4.7, -2.7, 0.5, -0.5, -0.5, 0.4, -10.4, 0.5, 3.4, 12.6]).ravel()

lin_reg = LinearRegression()
lin_reg.fit(x, y)
y_pred_lin = lin_reg.predict(x)
r2_lin = r2_score(y, y_pred_lin)

ridge = SGDRegressor(max_iter=100000000, alpha=0.0, random_state=42)  # Alpha is the regularization parameter
ridge.fit(x, y)

# Make predictions on the same data
y_pred = ridge.predict(x)
r2_lasso = r2_score(y, y_pred)

print("R-squared for Linear Regression:", r2_lin)
print("R-squared for Lasso Regression:", r2_lasso)
plt.figure(figsize=(8, 6))
plt.scatter(x, y, label='Observations', color='blue')
plt.plot(x, y_pred_lin, color='green', label='Linear Regression')
plt.plot(x[:, 0], y_pred, color='red', label='Fitted Regression Line')
plt.xlabel('X')
plt.ylabel('Y')
plt.title('Observations with LOESS Smoothing')
plt.legend()
plt.grid(True)
plt.show()