rm -fr demos/.ipynb_checkpoints/*checkpoint.ipynb && \
	find demos -name '*.ipynb' | while read nb; do \
		base=$(basename "$nb" .ipynb); \
		test_base=$(echo "$base" | sed 's/[-.]/_/g'); \
		if echo "$nb" | grep -q "parsl_fest_2025"; then \
			continue; \
		fi; \
		if ! ls test/booktests/tb_"$test_base".py > /dev/null 2>&1; then \
			echo "    Missing test for: $nb -> Expected: test/booktests/tb_$test_base.py"; \
		fi; \
	done
Total notebooks:        35
Total test files:       32

Generating missing booktest files...
cd test/booktests/ && python generate_test.py --check-missing
No missing test files found.
rm -fr test/booktests/.ipynb_checkpoints/
chmod +x scripts/find_local_only_folders.sh > /dev/null 2>&1
for f in ; do \
		rm -f "$f"; > /dev/null 2>&1; \
	done

Notebook tests
pip install -q -e ".[test]"  && \
	set -e && \
	cd test/booktests/ && \
	if [ -z "" ]; then \
		PYTHONWARNINGS="ignore::UserWarning,ignore::DeprecationWarning,ignore::FutureWarning,ignore::ImportWarning" \
		python -W ignore -m coverage run --append --source=../../qmcpy/ -m unittest discover -s . -p "*.py" -v --failfast; \
	else \
		PYTHONWARNINGS="ignore::UserWarning,ignore::DeprecationWarning,ignore::FutureWarning,ignore::ImportWarning" \
		python -W ignore -m coverage run --append --source=../../qmcpy/ -m unittest  -v --failfast; \
	fi && \
	cd ../..
test_argonne_talk_2023_figures_notebook (tb_Argonne_2023_Talk_Figures.NotebookTests.test_argonne_talk_2023_figures_notebook) ... skipped 'Skipping NotebookTests class'
test_mcqmc2022_article_figures_notebook (tb_MCQMC2022_Article_Figures.NotebookTests.test_mcqmc2022_article_figures_notebook) ... skipped 'Skipping NotebookTests class'
test_mcqmc_2020_qmc_software_tutorial_notebook (tb_MCQMC_2020_QMC_Software_Tutorial.NotebookTests.test_mcqmc_2020_qmc_software_tutorial_notebook) ... ok
test_purdue_talk_figures_notebook (tb_Purdue_Talk_Figures.NotebookTests.test_purdue_talk_figures_notebook) ... skipped 'Skipping NotebookTests class'
test_acm_toms_sorokin_2025_notebook (tb_acm_toms_sorokin_2025.NotebookTests.test_acm_toms_sorokin_2025_notebook) ... ok
test_asian_option_mlqmc_notebook (tb_asian_option_mlqmc.NotebookTests.test_asian_option_mlqmc_notebook) ... ok
test_control_variates_notebook (tb_control_variates.NotebookTests.test_control_variates_notebook) ... ok
test_dakota_genz_notebook (tb_dakota_genz.NotebookTests.test_dakota_genz_notebook) ... skipped 'Skipping NotebookTests class'
test_digital_net_b2_notebook (tb_digital_net_b2.NotebookTests.test_digital_net_b2_notebook) ... ok
test_elliptic_pde_notebook (tb_elliptic_pde.NotebookTests.test_elliptic_pde_notebook) ... ok
test_gaussian_diagnostics_demo_notebook (tb_gaussian_diagnostics_demo.NotebookTests.test_gaussian_diagnostics_demo_notebook) ... ok
test_gbm_demo_notebook (tb_gbm_demo.NotebookTests.test_gbm_demo_notebook) ... ok
test_iris_notebook (tb_iris.NotebookTests.test_iris_notebook) ... ok
test_joss2025_notebook (tb_joss2025.NotebookTests.test_joss2025_notebook) ... ok
test_lattice_random_generator_notebook (tb_lattice_random_generator.NotebookTests.test_lattice_random_generator_notebook) ... ok
test_lebesgue_integration_notebook (tb_lebesgue_integration.NotebookTests.test_lebesgue_integration_notebook) ... ok
test_linear_scrambled_halton_notebook (tb_linear_scrambled_halton.NotebookTests.test_linear_scrambled_halton_notebook) ... ok
test_nei_demo_notebook (tb_nei_demo.NotebookTests.test_nei_demo_notebook) ... ok
test_plot_proj_function_notebook (tb_plot_proj_function.NotebookTests.test_plot_proj_function_notebook) ... ok
test_pricing_options_notebook (tb_pricing_options.NotebookTests.test_pricing_options_notebook) ... ok
test_prob_failure_gp_ci_notebook (tb_prob_failure_gp_ci.NotebookTests.test_prob_failure_gp_ci_notebook) ... skipped 'Skipping NotebookTests class'
test_pydata_chi_2023_notebook (tb_pydata_chi_2023.NotebookTests.test_pydata_chi_2023_notebook) ... skipped 'Skipping NotebookTests class'
test_qei_demo_for_blog_notebook (tb_qei_demo_for_blog.NotebookTests.test_qei_demo_for_blog_notebook) ... ok
test_qmcpy_intro_notebook (tb_qmcpy_intro.NotebookTests.test_qmcpy_intro_notebook) ... ok
test_quickstart_notebook (tb_quickstart.NotebookTests.test_quickstart_notebook) ... ok
test_ray_tracing_notebook (tb_ray_tracing.NotebookTests.test_ray_tracing_notebook) ... ok
test_sample_scatter_plots_notebook (tb_sample_scatter_plots.NotebookTests.test_sample_scatter_plots_notebook) ... ok
test_some_true_measures_notebook (tb_some_true_measures.NotebookTests.test_some_true_measures_notebook) ... ok
test_umbridge_notebook (tb_umbridge.NotebookTests.test_umbridge_notebook) ... ok
test_vectorized_qmc_notebook (tb_vectorized_qmc.NotebookTests.test_vectorized_qmc_notebook) ... ok
test_vectorized_qmc_bayes_notebook (tb_vectorized_qmc_bayes.NotebookTests.test_vectorized_qmc_bayes_notebook) ... ok
test_why_add_q_to_mc_blog_notebook (tb_why_add_q_to_mc_blog.NotebookTests.test_why_add_q_to_mc_blog_notebook) ... ok

----------------------------------------------------------------------
Ran 32 tests in 468.655s

OK (skipped=6)
    Memory used: 0.22 GB.  Test time: 7.35 s
    Memory used: 0.22 GB.  Test time: 0.96 s
    Memory used: 0.22 GB.  Test time: 42.01 s
    Memory used: 0.22 GB.  Test time: 5.67 s
    Memory used: 0.22 GB.  Test time: 16.60 s
    Memory used: 0.22 GB.  Test time: 22.91 s
    Memory used: 0.22 GB.  Test time: 13.10 s
    Memory used: 0.23 GB.  Test time: 1.20 s
    Memory used: 0.23 GB.  Test time: 63.24 s
    Memory used: 0.23 GB.  Test time: 170.63 s
    Memory used: 0.23 GB.  Test time: 6.48 s
    Memory used: 0.23 GB.  Test time: 1.81 s
    Memory used: 0.23 GB.  Test time: 6.04 s
    Memory used: 0.23 GB.  Test time: 3.31 s
    Memory used: 0.23 GB.  Test time: 5.02 s
    Memory used: 0.23 GB.  Test time: 4.76 s
    Memory used: 0.23 GB.  Test time: 34.79 s
    Memory used: 0.23 GB.  Test time: 2.03 s
    Memory used: 0.23 GB.  Test time: 1.87 s
    Memory used: 0.23 GB.  Test time: 15.39 s
    Memory used: 0.23 GB.  Test time: 3.27 s
    Memory used: 0.23 GB.  Test time: 3.28 s
    Memory used: 0.23 GB.  Test time: 0.77 s
    Memory used: 0.23 GB.  Test time: 6.19 s
    Memory used: 0.24 GB.  Test time: 27.12 s
    Memory used: 0.24 GB.  Test time: 2.12 s
